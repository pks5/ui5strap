/*
 * ! UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/dt/ContextMenuControl',['jquery.sap.global','./library','sap/ui/unified/Menu','sap/ui/unified/MenuItem'],function(q,l,M,a){"use strict";
var C=M.extend("sap.ui.dt.ContextMenuControl",{
metadata:{library:"sap.ui.dt",properties:{},associations:{},events:{}},
renderer:{}
});
C.prototype.init=function(){M.prototype.init.apply(this,arguments);this._fnOnKeyDown=this._onKeyDown.bind(this);q(document).keydown(this._fnOnKeyDown);this.attachBrowserEvent("contextmenu",this._onContextMenu,this);this._oOverlayDomRef=document.body;};
C.prototype.exit=function(){M.prototype.exit.apply(this,arguments);q(document).off("keydown",this._fnOnKeyDown);delete this._fnOnKeyDown;this.detachBrowserEvent("contextmenu");};
C.prototype.setOverlayDomRef=function(o){this._oOverlayDomRef=o.getDomRef();};
C.prototype.setMenuItems=function(m,e){var t=this;this.destroyItems();m.forEach(function(i){if(!i.available||i.available(e)){var E=!i.enabled||i.enabled(e);var T=i.text;if(typeof i.text==="function"){T=i.text(e);}var o=new a({text:T,enabled:E});o.data({id:i.id});if((i.startSection&&typeof(i.startSection)==="boolean")||(typeof(i.startSection)==="function"&&i.startSection(e))){o.setStartsSection(true);}t.addItem(o);}});return this;};
C.prototype._open=function(p,P){if(this.getItems().length===0){return;}var m=p;var b=P;var X=m;var Y=b;var c=q('body').width();var d=q('body').height();if(!this.getDomRef()){this.open(false,undefined,undefined,undefined,undefined,-2000+" "+-2000,"none");}var e=this.$().context.clientWidth;var f=this.$().context.clientHeight;var x=(c-m<e)?e:0;var y=(d-b<f)?f:0;X=((c/2-m)*-1)+e/2+2-x;Y=((d/2-b)*-1)+f/2+2-y;var g=b-f;if(g<0&&y!==0){Y=Y-g;}this.close();this.open(true,this._oOverlayDomRef,undefined,undefined,document.body,X+" "+Y,"flip");};
C.prototype.openMenu=function(c){this._open(c.pageX,c.pageY);};
C.prototype._onKeyDown=function(e){if(!this.bOpen){q(document).off("keydown",this._fnOnKeyDown);delete this._fnOnKeyDown;return;}if((e.keyCode===q.sap.KeyCodes.F10)&&(e.shiftKey===true)&&(e.altKey===false)&&(e.ctrlKey===false)){e.preventDefault();}};
C.prototype._onContextMenu=function(e){if(!this.bOpen){this.detachBrowserEvent("contextmenu");return;}if(e.preventDefault){e.preventDefault();}};
return C;},true);
sap.ui.predefine('sap/ui/dt/ManagedObjectObserver',['sap/ui/base/ManagedObject','sap/ui/dt/ElementUtil'],function(M,E){"use strict";
var a=M.extend("sap.ui.dt.ManagedObjectObserver",{metadata:{"abstract":true,library:"sap.ui.dt",properties:{},associations:{target:{type:"sap.ui.base.ManagedObject"}},events:{modified:{parameters:{type:"string",name:"string",value:"any",oldValue:"any",target:"sap.ui.core.Element"}},destroyed:{}}}});
a.prototype.init=function(){var t=this;this._fnFireModified=function(){t.fireModified();};};
a.prototype.exit=function(){this.unobserve();delete this._fnFireModified;};
a.prototype.setTarget=function(t){this.unobserve();this.setAssociation("target",t);var T=this.getTargetInstance();if(T){this.observe(T);}return this;};
a.prototype.observe=function(t){var b=this;t.attachEvent("_change",this._fnFireModified,this);var o=this._fnOriginalDestroy=t.destroy;var d=false;t.destroy=function(){if(d){return;}b.unobserve();var O=o.apply(this,arguments);b.fireDestroyed();return O;};this._fnOriginalBindProperty=t.bindProperty;t.bindProperty=function(){var O=b._fnOriginalBindProperty.apply(this,arguments);b.fireModified();return O;};this._fnOriginalUnBindProperty=t.unbindProperty;t.unbindProperty=function(){var O=b._fnOriginalUnBindProperty.apply(this,arguments);b.fireModified();return O;};this._fnOriginalBindAggregation=t.bindAggregation;t.bindAggregation=function(s){var O=b._fnOriginalBindAggregation.apply(this,arguments);b.fireModified();return O;};this._fnOriginalUnBindAggregation=t.unbindAggregation;t.unbindAggregation=function(s){var O=b._fnOriginalUnBindAggregation.apply(this,arguments);b.fireModified();return O;};this._fnOriginalSetParent=t.setParent;t.setParent=function(p,s,S){var f=false;if(!this._bInSetParent){f=true;this._bInSetParent=true;}var c=this.getParent();var O=b._fnOriginalSetParent.apply(this,arguments);if(f&&!this.__bSapUiDtSupressParentChangeEvent){this._bInSetParent=false;if(c!==p){b.fireModified({type:"setParent",value:p,oldValue:c,target:this});}}return O;};this._fnOriginalAddAggregation=t.addAggregation;t.addAggregation=function(s,O,S){b._bAddOrSetAggregationCall=true;var v=b._fnOriginalAddAggregation.apply(this,arguments);b.fireModified({type:"addOrSetAggregation",name:s,value:O,target:this});return v;};this._fnOriginalSetAggregation=t.setAggregation;t.setAggregation=function(s,O,S){b._bAddOrSetAggregationCall=true;var v=b._fnOriginalSetAggregation.apply(this,arguments);b.fireModified({type:"addOrSetAggregation",name:s,value:O,target:this});return v;};this._fnOriginalRemoveAggregation=t.removeAggregation;t.removeAggregation=function(s,O,S){b._bRemoveAggregationCall=true;var v=b._fnOriginalRemoveAggregation.apply(this,arguments);b.fireModified({type:"removeAggregation",name:s,value:O,target:this});return v;};this._fnOriginalInsertAggregation=t.insertAggregation;t.insertAggregation=function(s,O,i,S){b._bInsertAggregationCall=true;var v=b._fnOriginalInsertAggregation.apply(this,arguments);b.fireModified({type:"insertAggregation",name:s,value:O,target:this});return v;};this._fnOriginalRemoveAllAggregation=t.removeAllAggregation;t.removeAllAggregation=function(s,S){b._bRemoveAllAggregationCall=true;var r=this.getAggregation(s);var O=b._fnOriginalRemoveAllAggregation.apply(this,arguments);b.fireModified({type:"removeAllAggregation",name:s,value:r,target:this});return O;};this._fnOriginalDestroyAggregation=t.destroyAggregation;t.destroyAggregation=function(s,S){b._bDestroyAggregationCall=true;var r=this.getAggregation(s);var O=b._fnOriginalDestroyAggregation.apply(this,arguments);b.fireModified({type:"destroyAggregation",name:s,value:r,target:this});return O;};b._aOriginalAddMutators={};b._aOriginalInsertMutators={};b._aOriginalRemoveMutators={};b._aOriginalRemoveAllMutators={};b._aOriginalDestructors={};var A=t.getMetadata().getAllAggregations();Object.keys(A).forEach(function(s){var c=A[s];var _=t[c._sMutator];b._aOriginalAddMutators[c.name]=_;t[c._sMutator]=function(O){b._bAddOrSetAggregationCall=false;var v;v=_.apply(this,arguments);if(!b._bAddOrSetAggregationCall){b.fireModified({type:"addOrSetAggregation",name:c.name,value:O,target:this});}return v;};var e=t[c._sInsertMutator];b._aOriginalInsertMutators[c.name]=e;t[c._sInsertMutator]=function(O,i){b._bInsertAggregationCall=false;var v;v=e.apply(this,arguments);if(!b._bInsertAggregationCall){b.fireModified({type:"insertAggregation",name:c.name,value:O,target:this});}return v;};var f=t[c._sRemoveMutator];b._aOriginalRemoveMutators[c.name]=f;t[c._sRemoveMutator]=function(O,S){b._bRemoveAggregationCall=false;var v=f.apply(this,arguments);if(!b._bRemoveAggregationCall){b.fireModified({type:"removeAggregation",name:c.name,value:O,target:this});}return v;};var g=t[c._sRemoveAllMutator];b._aOriginalRemoveAllMutators[c.name]=g;t[c._sRemoveAllMutator]=function(S){b._bRemoveAllAggregationCall=false;var r=this.getAggregation(s);var O=g.apply(this,arguments);if(!b._bRemoveAllAggregationCall){b.fireModified({type:"removeAllAggregation",name:c.name,value:r,target:this});}return O;};var h=t[c._sDestructor];b._aOriginalDestructors[c.name]=h;t[c._sDestructor]=function(S){b._bDestroyAggregationCall=false;var r=this.getAggregation(s);var O=h.apply(this,arguments);if(!b._bDestroyAggregationCall){b.fireModified({type:"destroyAggregation",name:c.name,value:r,target:this});}return O;};});};
a.prototype.unobserve=function(){var t=this;var T=this.getTargetInstance();if(T){T.destroy=this._fnOriginalDestroy;T.bindProperty=this._fnOriginalBindProperty;T.unbindProperty=this._fnOriginalUnBindProperty;T.bindAggregation=this._fnOriginalBindAggregation;T.unbindAggregation=this._fnOriginalUnBindAggregation;T.setParent=this._fnOriginalSetParent;T.addAggregation=this._fnOriginalAddAggregation;T.removeAggregation=this._fnOriginalRemoveAggregation;T.insertAggregation=this._fnOriginalInsertAggregation;T.setAggregation=this._fnOriginalSetAggregation;T.removeAllAggregation=this._fnOriginalRemoveAllAggregation;T.destroyAggregation=this._fnOriginalDestroyAggregation;var A=T.getMetadata().getAllAggregations();Object.keys(A).forEach(function(s){var o=A[s];T[o._sMutator]=t._aOriginalAddMutators[o.name];T[o._sInsertMutator]=t._aOriginalInsertMutators[o.name];T[o._sRemoveMutator]=t._aOriginalRemoveMutators[o.name];T[o._sRemoveAllMutator]=t._aOriginalRemoveAllMutators[o.name];T[o._sDestructor]=t._aOriginalDestructors[o.name];});T.detachEvent("_change",this._fnFireModified,this);}delete this._fnOriginalDestroy;delete this._fnOriginalBindProperty;delete this._fnOriginalUnBindProperty;delete this._fnOriginalBindAggregation;delete this._fnOriginalUnBindAggregation;delete this._fnOriginalSetParent;delete this._fnOriginalAddAggregation;delete this._fnOriginalRemoveAggregation;delete this._fnOriginalInsertAggregation;delete this._fnOriginalSetAggregation;delete this._fnOriginalRemoveAllAggregations;delete this._fnOriginalDestroyAggregation;delete this._aOriginalAddMutators;delete this._aOriginalInsertMutators;delete this._aOriginalRemoveMutators;delete this._aOriginalRemoveAllMutators;delete this._aOriginalDestructors;};
a.prototype.getTargetInstance=function(){return sap.ui.getCore().byId(this.getTarget());};
return a;},true);
sap.ui.predefine('sap/ui/dt/MutationObserver',['jquery.sap.global','sap/ui/dt/OverlayUtil','sap/ui/dt/ElementUtil','sap/ui/base/ManagedObject'],function(q,O,E,M){"use strict";
var a=M.extend("sap.ui.dt.MutationObserver",{metadata:{library:"sap.ui.dt",events:{domChanged:{parameters:{type:{type:"string"},elemenIds:{type:"string[]"},targetNodes:{type:"element[]"}}}}}});
a.prototype.init=function(){var t=this;this._fnFireResizeDomChanged=function(){t.fireDomChanged({type:"resize"});};this._onScroll=this._fireDomChangeOnScroll.bind(this);this._startMutationObserver();this._startResizeObserver();this._startScrollObserver();};
a.prototype.exit=function(){this._stopMutationObserver();this._stopResizeObserver();this._stopScrollObserver();};
a.prototype._startMutationObserver=function(){var t=this;if(this._oMutationObserver){return;}var a=window.MutationObserver||window.WebKitMutationObserver;if(a){this._oMutationObserver=new a(function(m){var T=[];var e=[];m.forEach(function(o){var b=o.target;if(o.type==="characterData"){b=o.target.parentNode;}if(!O.isInOverlayContainer(b)){T.push(b);var c=O.getClosestOverlayForNode(b);var s=c?c.getElementInstance().getId():undefined;if(s){e.push(s);}}});if(T.length){t.fireDomChanged({type:"mutation",elementIds:e,targetNodes:T});}});this._oMutationObserver.observe(window.document,{childList:true,subtree:true,attributes:true,attributeFilter:["style","class","width","height","border"],characterData:true});}else{q.sap.log.error("Mutation Observer is not available");}};
a.prototype._stopMutationObserver=function(){if(this._oMutationObserver){this._oMutationObserver.disconnect();delete this._oMutationObserver;}};
a.prototype._startResizeObserver=function(){q(window).on("resize",this._fnFireResizeDomChanged);};
a.prototype._stopResizeObserver=function(){q(window).off("resize",this._fnFireResizeDomChanged);};
a.prototype._fireDomChangeOnScroll=function(e){var t=e.target;if(!O.isInOverlayContainer(t)&&!O.getClosestOverlayForNode(t)){this.fireDomChanged({type:"scroll"});}};
a.prototype._startScrollObserver=function(){window.addEventListener("scroll",this._onScroll,true);};
a.prototype._stopScrollObserver=function(){window.removeEventListener("scroll",this._onScroll,true);};
return a;},true);
sap.ui.predefine('sap/ui/dt/OverlayUtil',['jquery.sap.global','sap/ui/dt/OverlayRegistry','sap/ui/dt/ElementUtil'],function(q,O,E){"use strict";var a={};
a.isInTargetZoneAggregation=function(e){var A=e.getParent();return A&&A.isTargetZone&&A.isTargetZone();};
a.getParentInformation=function(e){var p=e.getParentElementOverlay();if(p){var P=p.getElementInstance();var s=e.getParentAggregationOverlay().getAggregationName();var c=E.getAggregation(P,s);var o=e.getElementInstance();var i=c.indexOf(o);return{parent:P,aggregation:s,index:i};}else{return{parent:null,aggregation:"",index:-1};}};
a.getClosestOverlayFor=function(e){if(!e){return null;}var p=e;var P=O.getOverlay(p);while(p&&!P){p=p.getParent();P=O.getOverlay(p);}return P;};
a.getGeometry=function(g){var m,b,c,d;g.forEach(function(e){if(e){if(!m||e.position.left<m){m=e.position.left;}if(!c||e.position.top<c){c=e.position.top;}var r=e.position.left+e.size.width;if(!b||r>b){b=r;}var B=e.position.top+e.size.height;if(!d||B>d){d=B;}}});if(typeof m==="number"){return{size:{width:b-m,height:d-c},position:{left:m,top:c},visible:true};}};
a.getClosestOverlayForType=function(t,o){while(o&&!E.isInstanceOf(o.getElementInstance(),t)){o=o.getParentElementOverlay();}return o;};
a.getClosestScrollable=function(o){if(!o){return;}o=o.getParent();while(o&&o.isScrollable&&!o.isScrollable()){o=o.getParent();}return o&&o.isScrollable?o:null;};
a.getFirstChildOverlay=function(o){if(!o){return;}var A=o.getAggregationOverlays();if(A.length>0){for(var i=0;i<A.length;i++){var b=A[i];var c=b.getChildren();if(c.length){return c[0];}}}};
a.getLastChildOverlay=function(o){if(!o){return;}var A=o.getAggregationOverlays();if(A.length>0){for(var i=A.length-1;i>=0;i--){var b=A[i];var c=b.getChildren();if(c.length){return c[c.length-1];}}}};
a.getNextSiblingOverlay=function(o){if(!o){return;}var p=o.getParentAggregationOverlay();if(p){var A=p.getChildren();var i=A.indexOf(o);if(i!==A.length-1){return A[i+1];}else{if(i===A.length-1){var P=o.getParentElementOverlay();A=P.getAggregationOverlays();for(i=A.indexOf(p)+1;i<A.length;i++){var b=A[i].getChildren();if(b.length){return b[0];}}}}}};
a.getPreviousSiblingOverlay=function(o){if(!o){return;}var p=o.getParentAggregationOverlay();if(p){var A=p.getChildren();var i=A.indexOf(o);if(i>0){return A[i-1];}else{if(i===0){var P=o.getParentElementOverlay();A=P.getAggregationOverlays();for(i=A.indexOf(p)-1;i>=0;i--){var b=A[i].getChildren();if(b.length){return b[b.length-1];}}}}}};
a.getNextOverlay=function(o){if(!o){return;}var f=this.getFirstChildOverlay(o);if(f){return f;}var n=this.getNextSiblingOverlay(o);if(n){return n;}do{o=o.getParentElementOverlay();n=this.getNextSiblingOverlay(o);}while(o&&!n);return n;};
a.getPreviousOverlay=function(o){if(!o){return;}var p=o.getParentAggregationOverlay();if(!p){return;}var P=this.getPreviousSiblingOverlay(o);if(P){var l=P;do{P=l;l=this.getLastChildOverlay(P);}while(l);return P;}return o.getParentElementOverlay();};
a.getRootOverlay=function(o){var p=o;do{o=p;p=o.getParentElementOverlay();}while(p);return o;};
a.iterateOverlayElementTree=function(e,c){var t=this;c(e);e.getAggregationOverlays().forEach(function(A){A.getChildren().forEach(function(C){t.iterateOverlayElementTree(C,c);});});};
a.iterateOverlayTree=function(o,c){var t=this;c(o);o.getChildren().forEach(function(C){t.iterateOverlayTree(C,c);});};
a.isInOverlayContainer=function(n){if(n&&q(n).closest(".sapUiDtOverlay, #overlay-container").length){return true;}};
a.getClosestOverlayForNode=function(n){var e=E.getClosestElementForNode(n);return a.getClosestOverlayFor(e);};
return a;},true);
sap.ui.predefine('sap/ui/dt/plugin/ContextMenu',['jquery.sap.global','sap/ui/dt/Plugin','sap/ui/dt/ContextMenuControl'],function(q,P,C){"use strict";
var a=P.extend("sap.ui.dt.plugin.ContextMenu",{metadata:{library:"sap.ui.dt",properties:{},associations:{},events:{openedContextMenu:{},closedContextMenu:{}}}});
a.prototype.registerElementOverlay=function(o){o.attachBrowserEvent("contextmenu",this._onContextMenu,this);o.attachBrowserEvent("keydown",this._onKeyDown,this);};
a.prototype.deregisterElementOverlay=function(o){o.detachBrowserEvent("contextmenu",this._onContextMenu,this);o.detachBrowserEvent("keydown",this._onKeyDown,this);};
a.prototype.init=function(){this._aMenuItems=[];};
a.prototype.exit=function(){delete this._aMenuItems;delete this._oElement;if(this._oContextMenuControl){this._oContextMenuControl.destroy();delete this._oContextMenuControl;}};
a.prototype.addMenuItem=function(m){this._aMenuItems.push(m);};
a.prototype.open=function(o,t){this._oElement=t.getElementInstance();this._oContextMenuControl=new C();this._oContextMenuControl.setMenuItems(this._aMenuItems,this._oElement);this._oContextMenuControl.setOverlayDomRef(t);this._oContextMenuControl.attachItemSelect(this._onItemSelected,this);this._oContextMenuControl.openMenu({pageX:o.pageX,pageY:o.pageY});this.fireOpenedContextMenu();};
a.prototype._onItemSelected=function(e){var t=this;var i=e.getParameter("item").data("id");this._aMenuItems.some(function(I){if(i===I.id){var d=t.getDesignTime();var s=d.getSelection();I.handler(s);return true;}});};
a.prototype._onContextMenu=function(e){e.preventDefault();var o=sap.ui.getCore().byId(e.currentTarget.id);if(o&&o.isSelectable()){if(!o.isSelected()){o.setSelected(true);}this.open(e,o);e.stopPropagation();}};
a.prototype._onKeyDown=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);if((e.keyCode===q.sap.KeyCodes.F10)&&(e.shiftKey===true)&&(e.altKey===false)&&(e.ctrlKey===false)){e.preventDefault();e.stopPropagation();if(o&&o.isSelectable()){if(!o.isSelected()){o.setSelected(true);}var w=o.$().width()/2;var h=o.$().height()/2;var t=o.$().offset().top;var l=o.$().offset().left;this.open({pageX:l+w,pageY:t+h},o);}}};
return a;},true);
sap.ui.predefine('sap/ui/dt/plugin/ControlDragDrop',['sap/ui/dt/plugin/DragDrop','sap/ui/dt/plugin/ElementMover','sap/ui/dt/ElementUtil'],function(D,E,a){"use strict";
var C=D.extend("sap.ui.dt.plugin.ControlDragDrop",{metadata:{library:"sap.ui.dt",properties:{draggableTypes:{type:"string[]",defaultValue:["sap.ui.core.Element"]},elementMover:{type:"sap.ui.dt.plugin.ElementMover"}},associations:{},events:{elementMoved:{}}}});
var d="sapUiDtOverlayDropZone";
C.prototype.init=function(){D.prototype.init.apply(this,arguments);this.setElementMover(new E());};
C.prototype.setElementMover=function(n){var o=this.getElementMover();if(o!==n){if(o){o.destroy();}this.setProperty("elementMover",n);}};
C.prototype.setDraggableTypes=function(b){this.getElementMover().setMovableTypes(b);return this.setProperty("draggableTypes",b);};
C.prototype.registerElementOverlay=function(o){D.prototype.registerElementOverlay.apply(this,arguments);var e=o.getElementInstance();if(this.getElementMover().isMovableType(e)&&this.getElementMover().checkMovable(o)){o.setMovable(true);}if(this.oDraggedElement){this.getElementMover().activateTargetZonesFor(o,d);}};
C.prototype.deregisterElementOverlay=function(o){D.prototype.deregisterElementOverlay.apply(this,arguments);o.setMovable(false);if(this.oDraggedElement){this.getElementMover().deactivateTargetZonesFor(o,d);}};
C.prototype.getDraggedOverlay=function(){return this._oDraggedOverlay;};
C.prototype.onDragStart=function(o,e){this._oDraggedOverlay=o;this.getElementMover().setMovedOverlay(o);this.getElementMover().activateAllValidTargetZones(this.getDesignTime(),d);};
C.prototype.onDragEnd=function(o){this.getElementMover().buildMoveEvent();delete this._oPreviousTarget;this.getElementMover().deactivateAllTargetZones(this.getDesignTime(),d);delete this._oDraggedOverlay;this.getElementMover().setMovedOverlay(null);};
C.prototype.onDragEnter=function(t,e){var o=this.getDraggedOverlay();if(t.getElementInstance()!==o.getElementInstance()&&t!==this._oPreviousTarget){this.getElementMover().repositionOn(o,t);}this._oPreviousTarget=t;};
C.prototype.onAggregationDragEnter=function(A){delete this._oPreviousTarget;var o=this.getDraggedOverlay();this.getElementMover().insertInto(o,A);};
return C;},true);
sap.ui.predefine('sap/ui/dt/plugin/CutPaste',['sap/ui/dt/Plugin','sap/ui/dt/plugin/ElementMover','sap/ui/dt/OverlayUtil'],function(P,E,O){"use strict";
var C=P.extend("sap.ui.dt.plugin.CutPaste",{metadata:{library:"sap.ui.dt",properties:{movableTypes:{type:"string[]",defaultValue:["sap.ui.core.Element"]},elementMover:{type:"sap.ui.dt.plugin.ElementMover"}},associations:{},events:{elementMoved:{}}}});
C.prototype.init=function(){this.setElementMover(new E());};
C.prototype.registerElementOverlay=function(o){var e=o.getElementInstance();o.attachBrowserEvent("keydown",this._onKeyDown,this);if(this.getElementMover().isMovableType(e)&&this.getElementMover().checkMovable(o)){o.setMovable(true);}if(this.getElementMover().getMovedOverlay()){this.getElementMover().activateTargetZonesFor(this.getElementMover().getMovedOverlay());}};
C.prototype.deregisterElementOverlay=function(o){o.setMovable(false);o.detachBrowserEvent("keydown",this._onKeyDown,this);if(this.getElementMover().getMovedOverlay()){this.getElementMover().deactivateTargetZonesFor(this.getElementMover().getMovedOverlay());}};
C.prototype.setMovableTypes=function(m){this.getElementMover().setMovableTypes(m);return this.setProperty("movableTypes",m);};
C.prototype.setElementMover=function(e){e.setMovableTypes(this.getMovableTypes());return this.setProperty("elementMover",e);};
C.prototype.getCuttedOverlay=function(){return this.getElementMover().getMovedOverlay();};
C.prototype.isElementPasteable=function(t){var T=this._getTargetZoneAggregation(t);if((T)||(O.isInTargetZoneAggregation(t))){return true;}else{return false;}};
C.prototype._onKeyDown=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);if((e.keyCode===jQuery.sap.KeyCodes.X)&&(e.shiftKey===false)&&(e.altKey===false)&&(e.ctrlKey===true)){this.cut(o);e.stopPropagation();}else if((e.keyCode===jQuery.sap.KeyCodes.V)&&(e.shiftKey===false)&&(e.altKey===false)&&(e.ctrlKey===true)){this.paste(o);e.stopPropagation();}else if(e.keyCode===jQuery.sap.KeyCodes.ESCAPE){this.stopCutAndPaste();e.stopPropagation();}};
C.prototype.cut=function(o){this.stopCutAndPaste();if(o.isMovable()){this.getElementMover().setMovedOverlay(o);o.addStyleClass("sapUiDtOverlayCutted");this.getElementMover().activateAllValidTargetZones(this.getDesignTime());}};
C.prototype.paste=function(t){var c=this.getElementMover().getMovedOverlay();if(!c){return;}if(!this._isForSameElement(c,t)){var T=this._getTargetZoneAggregation(t);if(T){this.getElementMover().insertInto(c,T);}else if(O.isInTargetZoneAggregation(t)){this.getElementMover().repositionOn(c,t);}else{return;}this.getElementMover().buildMoveEvent();}setTimeout(function(){c.focus();},0);this.stopCutAndPaste();};
C.prototype.stopCutAndPaste=function(){var c=this.getElementMover().getMovedOverlay();if(c){c.removeStyleClass("sapUiDtOverlayCutted");this.getElementMover().setMovedOverlay(null);this.getElementMover().deactivateAllTargetZones(this.getDesignTime());}};
C.prototype._isForSameElement=function(c,t){return t.getElementInstance()===c.getElementInstance();};
C.prototype._getTargetZoneAggregation=function(t){var a=t.getAggregationOverlays();var p=a.filter(function(A){return A.isTargetZone();});if(p.length>0){return p[0];}else{return null;}};
return C;},true);
sap.ui.predefine('sap/ui/dt/plugin/ElementMover',['sap/ui/base/ManagedObject','sap/ui/dt/ElementUtil','sap/ui/dt/OverlayUtil','sap/ui/dt/OverlayRegistry'],function(M,E,O,a){"use strict";
var b=M.extend("sap.ui.dt.plugin.ElementMover",{metadata:{library:"sap.ui.dt",properties:{movableTypes:{type:"string[]",defaultValue:["sap.ui.core.Element"]}},associations:{},events:{'elementMoved':{}}}});
b.prototype._getMovableTypes=function(){return this.getProperty("movableTypes")||[];};
b.prototype.isMovableType=function(e){var m=this._getMovableTypes();return m.some(function(t){return E.isInstanceOf(e,t);});};
b.prototype.checkMovable=function(o){return true;};
b.prototype.getMovedOverlay=function(){return this._oMovedOverlay;};
b.prototype.setMovedOverlay=function(m){if(m){this._source=O.getParentInformation(m);}else{delete this._source;}this._oMovedOverlay=m;};
b.prototype._getSource=function(){return this._source;};
b.prototype.activateAllValidTargetZones=function(d,A){this._iterateAllAggregations(d,this._activateValidTargetZone.bind(this),A);};
b.prototype._activateValidTargetZone=function(A,s){if(this.checkTargetZone(A)){A.setTargetZone(true);if(s){A.addStyleClass(s);}}};
b.prototype.checkTargetZone=function(A){if(!A.$().is(":visible")){return false;}var p=A.getElementInstance();var m=this.getMovedOverlay().getElementInstance();var s=A.getAggregationName();if(E.isValidForAggregation(p,s,m)){return true;}};
b.prototype._deactivateTargetZone=function(A,s){A.setTargetZone(false);if(s){A.removeStyleClass(s);}};
b.prototype.activateTargetZonesFor=function(o,A){this._iterateOverlayAggregations(o,this._activateValidTargetZone.bind(this),A);};
b.prototype.deactivateTargetZonesFor=function(o,A){this._iterateOverlayAggregations(o,this._deactivateTargetZone.bind(this),A);};
b.prototype.deactivateAllTargetZones=function(d,A){this._iterateAllAggregations(d,this._deactivateTargetZone.bind(this),A);};
b.prototype._iterateAllAggregations=function(d,s,A){var t=this;var o=d.getElementOverlays();o.forEach(function(c){t._iterateOverlayAggregations(c,s,A);});};
b.prototype._iterateOverlayAggregations=function(o,s,A){var c=o.getAggregationOverlays();c.forEach(function(d){s(d,A);});};
b.prototype.repositionOn=function(m,t){var o=m.getElementInstance();var T=O.getParentInformation(t);if(T.index!==-1){E.insertAggregation(T.parent,T.aggregation,o,T.index);}};
b.prototype.insertInto=function(m,t){var o=m.getElementInstance();var T=t.getElementInstance();var s=m.getParent();if(t!==s){var c=t.getAggregationName();E.addAggregation(T,c,o);}};
b.prototype.buildMoveEvent=function(){var m=this.getMovedOverlay();var o=m.getElementInstance();var s=this._getSource();var t=O.getParentInformation(m);var A=[];var h=this._findAfterHook('afterMove',s,t);if(h){var p=h.parentOverlay.getElementInstance();A=h.afterHook.call(p,o,s,t);}else{A.push({element:o,source:s,target:t});}if(A&&A.length>0){E.executeActions(A);}this.fireElementMoved({data:A});};
b.prototype._findAfterHook=function(h,s,t){var p=a.getOverlay(s.parent);var A=p.getAggregationOverlay(s.aggregation);var o=A.getDesignTimeMetadata();var d=o.getData();var c=d[h];if(c){return{afterHook:c,parentOverlay:p};}return null;};
return b;},true);
sap.ui.predefine('sap/ui/dt/plugin/TabHandling',['jquery.sap.global','sap/ui/dt/Plugin','sap/ui/dt/Overlay'],function(q,P,O){"use strict";
var T=P.extend("sap.ui.dt.plugin.TabHandling",{metadata:{library:"sap.ui.dt",properties:{},associations:{},events:{}}});
T.prototype.registerElementOverlay=function(o){if(o.isRoot()){this._removeTabIndex();}};
T.prototype.deregisterElementOverlay=function(o){if(o.isRoot()){this._restoreTabIndex();}};
T.prototype.setDesignTime=function(d){P.prototype.setDesignTime.apply(this,arguments);if(d){if(!this._oMutationObserver){this._oMutationObserver=O.getMutationObserver();this._oMutationObserver.attachDomChanged(this._onDomChanged,this);}}else{this._oMutationObserver.detachDomChanged(this._onDomChanged,this);delete this._oMutationObserver;this._restoreTabIndex();}};
T.prototype._removeTabIndex=function(){q(document).find(":focusable:not([tabIndex=-1], #overlay-container *, .sapUiRTAToolBarTop Button, .sapUiRTAToolBarBottom Button)").each(function(i,n){n.setAttribute("data-sap-ui-dt-tabindex",n.tabIndex);n.setAttribute("tabIndex",-1);});};
T.prototype._restoreTabIndex=function(){q("[data-sap-ui-dt-tabindex]").each(function(i,n){n.setAttribute("tabIndex",n.getAttribute("data-sap-ui-dt-tabindex"));n.removeAttribute("data-sap-ui-dt-tabindex");});};
T.prototype._onDomChanged=function(){this._removeTabIndex();};
return T;},true);
/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/dt/AggregationDesignTimeMetadata',['jquery.sap.global','sap/ui/dt/DesignTimeMetadata'],function(q,D){"use strict";
var A=D.extend("sap.ui.dt.AggregationDesignTimeMetadata",{metadata:{library:"sap.ui.dt"}});
return A;},true);
sap.ui.predefine('sap/ui/dt/AggregationOverlay',['jquery.sap.global','sap/ui/dt/Overlay','sap/ui/dt/DOMUtil','sap/ui/dt/ElementUtil','sap/ui/dt/OverlayUtil'],function(q,O,D,E,a){"use strict";
var A=O.extend("sap.ui.dt.AggregationOverlay",{metadata:{library:"sap.ui.dt",properties:{aggregationName:{type:"string"},targetZone:{type:"boolean",defaultValue:false}},aggregations:{children:{type:"sap.ui.dt.Overlay",multiple:true},designTimeMetadata:{type:"sap.ui.dt.AggregationDesignTimeMetadata",multiple:false}},events:{targetZoneChange:{parameters:{targetZone:{type:"boolean"}}}}}});
A.prototype.getAssociatedDomRef=function(){var e=this.getElementInstance();var s=this.getAggregationName();var o=E.getDomRef(e);if(o){var d=this.getDesignTimeMetadata();var v=d.getDomRef();if(typeof v==="function"){return v.call(e,s);}else if(typeof v==="string"){return D.getDomRefForCSSSelector(o,v).get(0);}}};
A.prototype.setTargetZone=function(t){if(this.getTargetZone()!==t){this.setProperty("targetZone",t);this.toggleStyleClass("sapUiDtOverlayTargetZone",t);this.fireTargetZoneChange({targetZone:t});}return this;};
A.prototype.isTargetZone=function(){return this.getTargetZone();};
A.prototype.getChildren=function(){return this.getAggregation("children")||[];};
return A;},true);
sap.ui.predefine('sap/ui/dt/AggregationOverlayRenderer',['sap/ui/dt/RenderingUtil'],function(R){"use strict";var A={};
A.render=function(r,a){R.renderOverlay(r,a,"sapUiDtAggregationOverlay");};
return A;},true);
sap.ui.predefine('sap/ui/dt/ControlObserver',['jquery.sap.global','sap/ui/dt/ManagedObjectObserver'],function(q,M){"use strict";
var C=M.extend("sap.ui.dt.ControlObserver",{metadata:{library:"sap.ui.dt",properties:{},associations:{"target":{"type":"sap.ui.core.Control"}},events:{"afterRendering":{}}}});
C.prototype.init=function(){M.prototype.init.apply(this,arguments);this._oControlDelegate={onAfterRendering:this._onAfterRendering};};
C.prototype.observe=function(c){M.prototype.observe.apply(this,arguments);c.addEventDelegate(this._oControlDelegate,this);};
C.prototype.unobserve=function(){var c=this.getTargetInstance();if(c){c.removeDelegate(this._oControlDelegate,this);}M.prototype.unobserve.apply(this,arguments);};
C.prototype._onAfterRendering=function(){this.fireAfterRendering();};
return C;},true);
sap.ui.predefine('sap/ui/dt/DOMUtil',['jquery.sap.global'],function(q){"use strict";var D={};
D.getSize=function(d){var c=d.getBoundingClientRect();return{width:c.width,height:c.height};};
D.getOffsetFromParent=function(p,P,s,a){var o={left:p.left,top:p.top};if(P){o.left-=(P.left-(a?a:0));o.top-=(P.top-(s?s:0));}return o;};
D.getZIndex=function(d){var z;var e=q(d);if(e.length){z=e.zIndex()||e.css("z-index");}return z;};
D.hasScrollBar=function(d){var $=q(d);var o=$.css("overflow-y")==="auto"||$.css("overflow-y")==="scroll";var O=$.css("overflow-x")==="auto"||$.css("overflow-x")==="scroll";var h=o&&$.get(0).scrollHeight>$.height();var H=O&&$.get(0).scrollWidth>$.width();return h||H;};
D.getOverflows=function(d){var o;var e=q(d);if(e.length){o={};o.overflowX=e.css("overflow-x");o.overflowY=e.css("overflow-y");}return o;};
D.getGeometry=function(d,u){if(d){var o=q(d).offset();if(u){o.left=o.left-q(window).scrollLeft();o.top=o.top-q(window).scrollTop();}return{domRef:d,size:this.getSize(d),position:o,visible:this.isVisible(d)};}};
D.syncScroll=function(s,t){var $=q(t);var T=$.scrollTop();var o=$.scrollLeft();var a=q(s);var S=a.scrollTop();var b=a.scrollLeft();if(S!==T){$.scrollTop(S);}if(b!==o){$.scrollLeft(b);}};
D.getDomRefForCSSSelector=function(d,c){if(c&&d){var $=q(d);if(c===":sap-domref"){return $;}if(c.indexOf(":sap-domref")>-1){return $.find(c.replace(/:sap-domref/g,""));}return $.find(c);}else{return q();}};
D.isVisible=function(d){return d?d.offsetWidth>0||d.offsetHeight>0:false;};
D.getEscapedString=function(s){return s.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,'\\$1');};
D.setDraggable=function(e,v){e=q(e);e.attr("draggable",v);};
D._copyStylesTo=function(s,d){var S="";var a="";var l=s.length;for(var i=0;i<l;i++){a=s[i];S=S+a+":"+s.getPropertyValue(a)+";";}d.style.cssText=S;};
D._copyPseudoElement=function(p,s,d){var S=window.getComputedStyle(s,p);var c=S.getPropertyValue("content");if(c&&c!=="none"){c=q.trim(c);if(c.indexOf("attr(")===0){c=c.replace("attr(","");if(c.length){c=c.substring(0,c.length-1);}c=s.getAttribute(c);}var a=q("<span></span>");if(p===":after"){a.appendTo(d);}else{a.prependTo(d);}a.text(c.replace(/\"/g,""));D._copyStylesTo(S,a.get(0));a.css("display","inline");}};
D.copyComputedStyle=function(s,d){s=q(s).get(0);d=q(d).get(0);var S=window.getComputedStyle(s);if(S.getPropertyValue("display")=="none"){d.style.display="none";return;}D._copyStylesTo(S,d);S=window.getComputedStyle(s,":after");var c=S.getPropertyValue("content");if(c&&c!=="none"){if(c.indexOf("attr(")===0){c=c.replace("attr(","");c=c.replace(")","");c=s.getAttribute(c);}var a=q("<span></span>").appendTo(d);a.text(c.replace(/\"/g,""));D._copyStylesTo(S,a.get(0));a.css("display","inline");}this._copyPseudoElement(":after",s,d);this._copyPseudoElement(":before",s,d);};
D.copyComputedStyles=function(s,d){s=q(s).get(0);d=q(d).get(0);for(var i=0;i<s.children.length;i++){this.copyComputedStyles(s.children[i],d.children[i]);}q(d).removeClass();q(d).attr("id","");q(d).attr("role","");q(d).attr("data-sap-ui","");q(d).attr("for","");q(d).attr("tabIndex",-1);this.copyComputedStyle(s,d);};
D.cloneDOMAndStyles=function(n,t){n=q(n).get(0);t=q(t).get(0);var c=n.cloneNode(true);this.copyComputedStyles(n,c);var $=q(c);q(t).append($);};
return D;},true);
sap.ui.predefine('sap/ui/dt/DesignTime',['sap/ui/base/ManagedObject','sap/ui/dt/ElementOverlay','sap/ui/dt/OverlayRegistry','sap/ui/dt/Selection','sap/ui/dt/ElementDesignTimeMetadata','sap/ui/dt/ElementUtil','sap/ui/dt/OverlayUtil','./library'],function(M,E,O,S,a,b,c){"use strict";
var D=M.extend("sap.ui.dt.DesignTime",{metadata:{library:"sap.ui.dt",properties:{selectionMode:{type:"sap.ui.dt.SelectionMode",defaultValue:sap.ui.dt.SelectionMode.Single},designTimeMetadata:{type:"object"}},associations:{rootElements:{type:"sap.ui.core.Element",multiple:true}},aggregations:{plugins:{type:"sap.ui.dt.Plugin",multiple:true}},events:{elementOverlayCreated:{parameters:{elementOverlay:{type:"sap.ui.dt.ElementOverlay"}}},elementOverlayDestroyed:{parameters:{elementOverlay:{type:"sap.ui.dt.ElementOverlay"}}},selectionChange:{parameters:{selection:{type:"sap.ui.dt.Overlay[]"}}},syncing:{},synced:{}}}});
D.prototype.init=function(){this._iOverlaysPending=0;this._oSelection=this.createSelection();this._oSelection.attachEvent("change",function(e){this.fireSelectionChange({selection:e.getParameter("selection")});},this);};
D.prototype.exit=function(){delete this._iOverlaysPending;this._destroyAllOverlays();this._oSelection.destroy();};
D.prototype.createSelection=function(){return new S();};
D.prototype.getSelection=function(){return this._oSelection.getSelection();};
D.prototype.setSelectionMode=function(m){this.setProperty("selectionMode",m);this._oSelection.setMode(m);return this;};
D.prototype.getPlugins=function(){return this.getAggregation("plugins")||[];};
D.prototype.addPlugin=function(p){p.setDesignTime(this);this.addAggregation("plugins",p);return this;};
D.prototype.insertPlugin=function(p,i){p.setDesignTime(this);this.insertAggregation("plugins",p,i);return this;};
D.prototype.removePlugin=function(p){this.getPlugins().forEach(function(C){if(C===p){p.setDesignTime(null);return;}});this.removeAggregation("plugins",p);return this;};
D.prototype.removeAllPlugins=function(){this.getPlugins().forEach(function(p){p.setDesignTime(null);});this.removeAllAggregation("plugins");return this;};
D.prototype.getRootElements=function(){return this.getAssociation("rootElements")||[];};
D.prototype.getDesignTimeMetadata=function(){return this.getProperty("designTimeMetadata")||{};};
D.prototype.getDesignTimeMetadataFor=function(e){var C=e;var d=this.getDesignTimeMetadata();if(e.getMetadata){C=e.getMetadata().getName();}return d[C];};
D.prototype.addRootElement=function(r){this.addAssociation("rootElements",r);var R=this._createElementOverlay(b.getElementInstance(r));this.attachEventOnce("synced",function(){R.placeInOverlayContainer();});return this;};
D.prototype.removeRootElement=function(r){this.removeAssociation("rootElements",r);this._destroyOverlaysForElement(b.getElementInstance(r));return this;};
D.prototype.removeAllRootElement=function(){this.removeAssociation("rootElements");this._destroyAllOverlays();return this;};
D.prototype.createElementOverlay=function(e,i){return new E({inHiddenTree:i,element:e});};
D.prototype.getElementOverlays=function(){var t=this;var e=[];this._iterateRootElements(function(r){e=e.concat(t._getAllElementOverlaysIn(r));});return e;};
D.prototype._createElementOverlay=function(e,i){var t=this;e=b.fixComponentContainerElement(e);var o=O.getOverlay(e);if(e&&!o){if(this._iOverlaysPending===0){this.fireSyncing();}this._iOverlaysPending++;o=this.createElementOverlay(e,i);if(o){o.attachRequestElementOverlaysForAggregation(this._onRequestElementOverlaysForAggregation,this);o.attachElementModified(this._onElementModified,this);o.attachDestroyed(this._onElementOverlayDestroyed,this);o.attachSelectionChange(this._onElementOverlaySelectionChange,this);}b.loadDesignTimeMetadata(e).then(function(d){var m=d||{};jQuery.extend(true,m,t.getDesignTimeMetadataFor(e));var f=new a({data:m});o.setDesignTimeMetadata(f);t.fireElementOverlayCreated({elementOverlay:o});}).catch(function(d){jQuery.sap.log.error("exception occured in sap.ui.dt.DesignTime._createElementOverlay",d);}).then(function(){t._iOverlaysPending--;if(t._iOverlaysPending===0){t.fireSynced();}});}return o;};
D.prototype.createOverlay=function(e){return this._createElementOverlay(e);};
D.prototype._destroyOverlaysForElement=function(e){var o=O.getOverlay(e);if(o){o.destroy();}};
D.prototype._destroyAllOverlays=function(){var t=this;this._iterateRootElements(function(r){t._destroyOverlaysForElement(r);});};
D.prototype._createChildOverlaysForAggregation=function(e,A){var t=this;var o=e.getAggregationOverlay(A);var d=e.getElementInstance();var C=b.getAggregation(d,A);b.iterateOverElements(C,function(f){t._createElementOverlay(f,o.isInHiddenTree());});};
D.prototype._onRequestElementOverlaysForAggregation=function(e){var o=e.getSource();var A=e.getParameter("name");this._createChildOverlaysForAggregation(o,A);};
D.prototype._onElementOverlayDestroyed=function(e){var o=e.getSource();if(o.getSelected()){this._oSelection.remove(o);}this.fireElementOverlayDestroyed({overlay:o});};
D.prototype._onElementOverlaySelectionChange=function(e){var o=e.getSource();var s=e.getParameter("selected");this._oSelection.set(o,s);};
D.prototype._onElementModified=function(e){var t=this;var p=e.getParameters();if(p.type==="addOrSetAggregation"||p.type==="insertAggregation"){this._onElementOverlayAddAggregation(p.value);}else if(p.type==="setParent"){setTimeout(function(){if(!t.bIsDestroyed){t._checkIfOverlayShouldBeDestroyed(p.target,p.value);}},0);}};
D.prototype._onElementOverlayAddAggregation=function(C){if(C instanceof sap.ui.core.Element){var o=O.getOverlay(C);if(!o){this._createElementOverlay(C);}}};
D.prototype._checkIfOverlayShouldBeDestroyed=function(e,p){var o=O.getOverlay(e);if(o&&!this._isElementInRootElements(e)){o.destroy();}};
D.prototype._isElementInRootElements=function(e){var f=false;this._iterateRootElements(function(r){if(b.hasAncestor(e,r)){f=true;return false;}});return f;};
D.prototype._iterateRootElements=function(s){var r=this.getRootElements();r.forEach(function(R){var o=b.getElementInstance(R);s(o);});};
D.prototype._getAllElementOverlaysIn=function(e){var d=[];var o=O.getOverlay(e);if(o){c.iterateOverlayElementTree(o,function(C){d.push(C);});}return d;};
return D;},true);
sap.ui.predefine('sap/ui/dt/DesignTimeMetadata',['jquery.sap.global','sap/ui/base/ManagedObject'],function(q,M){"use strict";
var D=M.extend("sap.ui.dt.DesignTimeMetadata",{metadata:{library:"sap.ui.dt",properties:{data:{type:"object"}}}});
D.prototype.setData=function(d){var m=q.extend(true,this.getDefaultData(),d||{});this.setProperty("data",m);return this;};
D.prototype.getData=function(){var d=this.getProperty("data");if(!d){this.setData({});d=this.getProperty("data");}return d;};
D.prototype.getDefaultData=function(){return{ignore:false,domRef:undefined,cloneDomRef:false};};
D.prototype.isIgnored=function(){return this.getData().ignore;};
D.prototype.getCloneDomRef=function(){return this.getData().cloneDomRef;};
D.prototype.getDomRef=function(){return this.getData().domRef;};
return D;},true);
sap.ui.predefine('sap/ui/dt/ElementDesignTimeMetadata',['jquery.sap.global','sap/ui/dt/DesignTimeMetadata'],function(q,D){"use strict";
var E=D.extend("sap.ui.dt.ElementDesignTimeMetadata",{metadata:{library:"sap.ui.dt"}});
E.prototype.getDefaultData=function(d){var o=D.prototype.getDefaultData.apply(this,arguments);o.aggregations={layout:{ignore:true},dependents:{ignore:true},customData:{ignore:true},layoutData:{ignore:true},tooltip:{ignore:true}};return o;};
E.prototype.hasAggregation=function(a){return!!this.getAggregations()[a];};
E.prototype.getAggregation=function(a){return this.getAggregations()[a];};
E.prototype.getAggregations=function(){return this.getData().aggregations;};
return E;},true);
sap.ui.predefine('sap/ui/dt/ElementOverlay',['sap/ui/dt/Overlay','sap/ui/dt/ControlObserver','sap/ui/dt/ManagedObjectObserver','sap/ui/dt/ElementDesignTimeMetadata','sap/ui/dt/AggregationDesignTimeMetadata','sap/ui/dt/AggregationOverlay','sap/ui/dt/OverlayRegistry','sap/ui/dt/ElementUtil','sap/ui/dt/OverlayUtil','sap/ui/dt/DOMUtil'],function(O,C,M,E,A,a,b,c,d,D){"use strict";
var e=O.extend("sap.ui.dt.ElementOverlay",{metadata:{library:"sap.ui.dt",properties:{selected:{type:"boolean",defaultValue:false},selectable:{type:"boolean",defaultValue:false},movable:{type:"boolean",defaultValue:false},editable:{type:"boolean",defaultValue:false}},aggregations:{aggregationOverlays:{type:"sap.ui.dt.AggregationOverlay",multiple:true},designTimeMetadata:{type:"sap.ui.dt.ElementDesignTimeMetadata",altTypes:["object"],multiple:false}},events:{selectionChange:{parameters:{selected:{type:"boolean"}}},movableChange:{parameters:{movable:{type:"boolean"}}},selectableChange:{parameters:{selectable:{type:"boolean"}}},editableChange:{parameters:{editable:{type:"boolean"}}},elementModified:{parameters:{type:"string",name:"string",value:"any",oldValue:"any",target:"sap.ui.core.Element"}},requestElementOverlaysForAggregation:{parameters:{name:{type:"string"}}}}}});
e.prototype.init=function(){O.prototype.init.apply(this,arguments);this._oMutationObserver=O.getMutationObserver();this._oMutationObserver.attachDomChanged(this._onDomChanged,this);};
e.prototype.exit=function(){if(this._oMutationObserver){this._oMutationObserver.detachDomChanged(this._onDomChanged,this);delete this._oMutationObserver;}O.prototype.exit.apply(this,arguments);this._unobserve();b.deregister(this._sElementId);if(!b.hasOverlays()){O.destroyMutationObserver();O.removeOverlayContainer();}delete this._sElementId;};
e.prototype.setLazyRendering=function(l){O.prototype.setLazyRendering.apply(this,arguments);if(!l){this.placeInOverlayContainer();}};
e.prototype.placeInOverlayContainer=function(){if(!this.getParent()){this.placeAt(O.getOverlayContainer());var u=this.getUIArea();u._onChildRerenderedEmpty=function(){return true;};}};
e.prototype.setElement=function(v){var o=this.getElementInstance();if(o instanceof sap.ui.core.Element){b.deregister(o);this._unobserve();}this.setAssociation("element",v);var f=this.getElementInstance();this._sElementId=f.getId();b.register(f,this);this._observe(f);if(this.getDesignTimeMetadata()){this._renderAndCreateAggregation();}return this;};
e.prototype.setDesignTimeMetadata=function(v){var o;if(v instanceof E){o=v;}else{o=new E({data:v});}var r=this.setAggregation("designTimeMetadata",o);if(this.getElementInstance()){this._renderAndCreateAggregation();}return r;};
e.prototype._renderAndCreateAggregation=function(){this.getAggregationOverlays().forEach(function(o){o.getChildren().forEach(function(f){f.setParent(null);});});this.destroyAggregationOverlays();this._createAggregationOverlays();var p=d.getClosestOverlayFor(this.getElementInstance().getParent());if(p){p.sync();}};
e.prototype.getAssociatedDomRef=function(){return c.getDomRef(this.getElementInstance());};
e.prototype.setSelectable=function(s){if(s!==this.isSelectable()){if(!s){this.setSelected(false);}this.toggleStyleClass("sapUiDtOverlaySelectable",s);this.setProperty("selectable",s);this.fireSelectableChange({selectable:s});}this.setFocusable(s);return this;};
e.prototype.setSelected=function(s,S){if(this.isSelectable()&&s!==this.isSelected()){this.setProperty("selected",s);this.toggleStyleClass("sapUiDtOverlaySelected",s);if(!S){this.fireSelectionChange({selected:s});}}return this;};
e.prototype.setMovable=function(m){if(this.getMovable()!==m){this.toggleStyleClass("sapUiDtOverlayMovable",m);this.setProperty("movable",m);this.fireMovableChange({movable:m});}return this;};
e.prototype.setEditable=function(f){if(this.getEditable()!==f){this.toggleStyleClass("sapUiDtOverlayEditable",f);this.setProperty("editable",f);this.fireEditableChange({editable:f});}return this;};
e.prototype.sync=function(){var t=this;if(this.isVisible()){var f=this.getAggregationOverlays();f.forEach(function(o){t._syncAggregationOverlay(o);});}};
e.prototype._createAggregationOverlay=function(s,i){var o=this.getDesignTimeMetadata().getAggregation(s);var f=new A({data:o});var g=new a({aggregationName:s,element:this.getElementInstance(),designTimeMetadata:f,inHiddenTree:i});this._mAggregationOverlays[s]=g;this.addAggregation("aggregationOverlays",g);this._syncAggregationOverlay(g);g.attachVisibleChanged(this._onAggregationVisibleChanged,this);return g;};
e.prototype._createAggregationOverlays=function(){var t=this;this._mAggregationOverlays={};var o=this.getElementInstance();var f=this.getDesignTimeMetadata();var m={};c.iterateOverAllPublicAggregations(o,function(i,j){var s=i.name;m[s]=true;t._createAggregationOverlay(s,t.isInHiddenTree());});var g=f.getAggregations();var h=Object.keys(g);h.forEach(function(s){var i=g[s];if(i.ignore===false&&!m[s]){t._createAggregationOverlay(s,true);}});this.sync();};
e.prototype._observe=function(o){if(o instanceof sap.ui.core.Control){this._oObserver=new C({target:o});this._oObserver.attachAfterRendering(this._onElementAfterRendering,this);}else{this._oObserver=new M({target:o});}this._oObserver.attachModified(this._onElementModified,this);this._oObserver.attachDestroyed(this._onElementDestroyed,this);};
e.prototype._unobserve=function(){if(this._oObserver){this._oObserver.destroy();}};
e.prototype._onAggregationVisibleChanged=function(o){var f=o.getSource();this._syncAggregationOverlay(f);};
e.prototype._syncAggregationOverlay=function(o){var t=this;if(o.isVisible()){var s=o.getAggregationName();var i=this.getElementInstance()instanceof sap.ui.core.Control;if(!i||this._getElementInstanceVisible()){if(!o.getChildren().length){this.fireRequestElementOverlaysForAggregation({name:s});}}var f=c.getAggregation(this.getElementInstance(),s);f.forEach(function(g){var h=b.getOverlay(g);if(h&&h.getParent()!==t){o.addChild(h);}});}};
e.prototype.setVisible=function(v){O.prototype.setVisible.apply(this,arguments);this.sync();};
e.prototype.destroyAggregation=function(s,S){O.prototype.destroyAggregation.apply(this,arguments);if(s==="aggregationOverlays"){delete this._mAggregationOverlays;}};
e.prototype._onElementModified=function(o){var p=o.getParameters();var s=o.getParameters().name;if(s){this.sync();var f=this.getAggregationOverlay(s);var g=f&&f.isVisible();if(g){this.fireElementModified(p);}}else if(o.getParameters().type==="setParent"){this.fireElementModified(p);}this.invalidate();};
e.prototype._onDomChanged=function(o){var i=o.getParameters().elementIds||[];var f=this.getElementInstance();if(i.indexOf(f.getId())!==-1){if(this._mGeometry&&!this._mGeometry.visible){delete this._mGeometry;this.invalidate();}}if(this.isRoot()){this.applyStyles();}};
e.prototype._onElementAfterRendering=function(){if(!this.getDomRef()){this.invalidate();}this.sync();};
e.prototype._onElementDestroyed=function(){this.destroy();};
e.prototype.getAggregationOverlays=function(){return this.getAggregation("aggregationOverlays")||[];};
e.prototype.getChildren=function(){return this.getAggregationOverlays();};
e.prototype.getAggregationOverlay=function(s){if(this._mAggregationOverlays){return this._mAggregationOverlays[s];}};
e.prototype.getParentElementOverlay=function(){var p=this.getParentAggregationOverlay();if(p){return p.getParent();}};
e.prototype.getParentAggregationOverlay=function(){var p=this.getParent();return p instanceof sap.ui.dt.AggregationOverlay?p:null;};
e.prototype.isSelected=function(){return this.getSelected();};
e.prototype.isSelectable=function(){return this.getSelectable();};
e.prototype.isMovable=function(){return this.getMovable();};
e.prototype.isEditable=function(){return this.getEditable();};
e.prototype._getElementInstanceVisible=function(){var o=this.getElementInstance();if(o){var g=this.getGeometry();return g&&g.visible;}else{return false;}};
return e;},true);
sap.ui.predefine('sap/ui/dt/ElementOverlayRenderer',['sap/ui/dt/RenderingUtil'],function(R){"use strict";var O={};
O.render=function(r,o){R.renderOverlay(r,o,"sapUiDtElementOverlay");};
return O;},true);
sap.ui.predefine('sap/ui/dt/ElementUtil',['jquery.sap.global'],function(q){"use strict";var E={};E.sACTION_MOVE='move';
E.iterateOverElements=function(e,c){if(e&&e.length){for(var i=0;i<e.length;i++){var o=e[i];if(o instanceof sap.ui.core.Element){c(o);}}}else if(e instanceof sap.ui.core.Element){c(e);}};
E.iterateOverAllPublicAggregations=function(e,c){var t=this;var a=e.getMetadata().getAllAggregations();var A=Object.keys(a);A.forEach(function(s){var o=a[s];var v=t.getAggregation(e,s);c(o,v);});};
E.getElementInstance=function(e){if(typeof e==="string"){return sap.ui.getCore().byId(e);}else{return e;}};
E.hasAncestor=function(e,a){a=this.fixComponentContainerElement(a);var p=this.fixComponentParent(e);while(p&&p!==a){p=p.getParent();p=this.fixComponentParent(p);}return!!p;};
E.getClosestElementForNode=function(n){var c=q(n).closest("[data-sap-ui]");return c.length?sap.ui.getCore().byId(c.data("sap-ui")):undefined;};
E.getClosestElementOfType=function(s,t){var e=s;while(e&&!this.isInstanceOf(e,t)){e=e.getParent();}return e;};
E.fixComponentParent=function(e){if(this.isInstanceOf(e,"sap.ui.core.UIComponent")){var c=e.oContainer;if(c){return c.getParent();}}else{return e;}};
E.fixComponentContainerElement=function(e){if(this.isInstanceOf(e,"sap.ui.core.ComponentContainer")){if(!e.getComponentInstance()){return;}return e.getComponentInstance().getAggregation("rootControl");}else{return e;}};
E.findAllPublicElements=function(e){var t=this;var f=[];function i(e){e=t.fixComponentContainerElement(e);if(e){f.push(e);t.iterateOverAllPublicAggregations(e,function(a,v){t.iterateOverElements(v,i);});}}i(e);return f;};
E.getDomRef=function(e){if(e){var d;if(e.getDomRef){d=e.getDomRef();}if(!d&&e.getRenderedDomRef){d=e.getRenderedDomRef();}return d;}};
E.findAllPublicChildren=function(e){var f=this.findAllPublicElements(e);var i=f.indexOf(e);if(i>-1){f.splice(i,1);}return f;};
E.isElementFiltered=function(c,t){var a=this;t=t||this.getControlFilter();var f=false;t.forEach(function(T){f=a.isInstanceOf(c,T);if(f){return false;}});return f;};
E.findClosestControlInDom=function(n){if(n&&n.getAttribute("data-sap-ui")){return sap.ui.getCore().byId(n.getAttribute("data-sap-ui"));}else{if(n.parentNode){this.findClosestControlInDom(n.parentNode);}else{return null;}}};
E.getAggregationAccessors=function(e,a){var m=e.getMetadata();m.getJSONKeys();var A=m.getAggregation(a);if(A){var g=A._sGetter;if(A.altTypes&&A.altTypes.length&&e[A._sGetter+"Control"]){g=A._sGetter+"Control";}return{get:g,add:A._sMutator,remove:A._sRemoveMutator,insert:A._sInsertMutator};}else{return{};}};
E.getAggregation=function(e,a){var v;var g=this.getAggregationAccessors(e,a).get;if(g){v=e[g]();}else{v=e.getAggregation(a);}v=v&&v.splice?v:(v?[v]:[]);return v;};
E.addAggregation=function(p,a,e){if(this.hasAncestor(p,e)){throw new Error("Trying to add an element to itself or its successors");}var A=this.getAggregationAccessors(p,a).add;if(A){p[A](e);}else{p.addAggregation("sAggregationName",e);}};
E.removeAggregation=function(p,a,e){var A=this.getAggregationAccessors(p,a).remove;if(A){p[A](e);}else{p.removeAggregation(a,e);}};
E.insertAggregation=function(p,a,e,i){if(this.hasAncestor(p,e)){throw new Error("Trying to add an element to itself or its successors");}if(this.getAggregation(p,a).indexOf(e)!==-1){e.__bSapUiDtSupressParentChangeEvent=true;try{p.removeAggregation(a,e,true);}finally{delete e.__bSapUiDtSupressParentChangeEvent;}}var A=this.getAggregationAccessors(p,a).insert;if(A){p[A](e,i);}else{p.insertAggregation(a,e,i);}};
E.isValidForAggregation=function(p,a,e){var A=p.getMetadata().getAggregation(a);if(this.hasAncestor(p,e)){return false;}if(A){var t=A.type;return this.isInstanceOf(e,t)||this.hasInterface(e,t);}};
E.hasInterface=function(e,i){var I=e.getMetadata().getInterfaces();return I.indexOf(i)!==-1;};
E.isInstanceOf=function(e,t){var i=q.sap.getObject(t);if(typeof i==="function"){return e instanceof i;}else{return false;}};
E.getDesignTimeMetadata=function(e){var d=e?e.getMetadata().getDesignTime():{};return d||{};};
E.loadDesignTimeMetadata=function(e){return e?e.getMetadata().loadDesignTime():Promise.resolve({});};
E.executeActions=function(a){for(var i=0;i<a.length;i++){var A=a[i];switch(A.changeType){case E.sACTION_MOVE:var t=sap.ui.getCore().byId(A.target.parent);var m=sap.ui.getCore().byId(A.element);E.insertAggregation(t,A.target.aggregation,m,A.target.index);break;default:}}};
return E;},true);
sap.ui.predefine('sap/ui/dt/Overlay',['jquery.sap.global','sap/ui/core/Control','sap/ui/dt/MutationObserver','sap/ui/dt/ElementUtil','sap/ui/dt/OverlayUtil','sap/ui/dt/DOMUtil','jquery.sap.dom'],function(q,C,M,E,O,D){"use strict";var o="overlay-container";var a;var m;
var b=C.extend("sap.ui.dt.Overlay",{metadata:{library:"sap.ui.dt",properties:{visible:{type:"boolean",defaultValue:true},lazyRendering:{type:"boolean",defaultValue:true},inHiddenTree:{type:"boolean",defaultValue:false},focusable:{type:"boolean",defaultValue:false}},associations:{element:{type:"sap.ui.core.Element"}},aggregations:{designTimeMetadata:{type:"sap.ui.dt.DesignTimeMetadata",multiple:false}},events:{focusableChange:{parameters:{focusable:{type:"boolean"}}},destroyed:{parameters:{}},visibleChanged:{parameters:{visible:"boolean"}}}}});
b.getOverlayContainer=function(){if(!a){a=q.sap.byId(o);if(!a.length){a=q("<div id='"+o+"'></div>").css({"top":"0px","left":"0px"}).appendTo("body");}}return a.get(0);};
b.removeOverlayContainer=function(){if(a){a.remove();}a=null;};
b.getMutationObserver=function(){if(!m){m=new M();}return m;};
b.destroyMutationObserver=function(){if(m){m.destroy();m=null;}};
b.prototype.init=function(){this._bVisible=null;this._domRefScrollHandler=this._onSyncScrollWithDomRef.bind(this);this.attachBrowserEvent("scroll",this._onOverlayScroll,this);};
b.prototype.exit=function(){this._detachDomRefScrollHandler();delete this._oDomRef;delete this._bVisible;window.clearTimeout(this._iCloneDomTimeout);window.clearTimeout(this._iSyncScrollWithDomRef);this.fireDestroyed();};
b.prototype._onChildRerenderedEmpty=function(){return true;};
b.prototype.onAfterRendering=function(){this._oDomRef=this.getDomRef();if(this._oDomRef){this._updateDom();}var f=this.isFocusable();if(f){this.$().attr("tabindex",0);}else{this.$().attr("tabindex",null);}};
b.prototype.getDomRef=function(){return this._oDomRef||C.prototype.getDomRef.apply(this,arguments);};
b.prototype.getAssociatedDomRef=function(){throw new Error("This method is abstract and needs to be implemented");};
b.prototype.getElementInstance=function(){return sap.ui.getCore().byId(this.getElement());};
b.prototype.hasFocus=function(){return document.activeElement===this.getFocusDomRef();};
b.prototype.setFocusable=function(f){if(this.isFocusable()!==f){this.setProperty("focusable",f);this.toggleStyleClass("sapUiDtOverlayFocusable",f);this.fireFocusableChange({focusable:f});}return this;};
b.prototype.isFocusable=function(){return this.getFocusable();};
b.prototype.applyStyles=function(){delete this._mGeometry;if(!this.getDomRef()){return;}if(!this.isVisible()){this.$().css("display","none");return;}var g=this.getGeometry();if(g&&g.visible){var $=this.$();$.css("display","block");var c=this.getParent();var p=(c&&c instanceof b)?c.$().scrollTop():null;var P=(c&&c instanceof b)?c.$().scrollLeft():null;var d=(c&&c instanceof b)?c.$().offset():null;var e=D.getOffsetFromParent(g.position,d,p,P);var s=g.size;$.css("width",s.width+"px");$.css("height",s.height+"px");$.css("top",e.top+"px");$.css("left",e.left+"px");if(g.domRef){var z=D.getZIndex(g.domRef);if(z){$.css("z-index",z);}var f=D.getOverflows(g.domRef);if(f){if(f.overflowX){$.css("overflow-x",f.overflowX);}if(f.overflowY){$.css("overflow-y",f.overflowY);}var S=g.domRef.scrollHeight;var i=g.domRef.scrollWidth;if(S>s.height||i>s.width){if(!this._oDummyScrollContainer){this._oDummyScrollContainer=q("<div class='sapUiDtDummyScrollContainer' style='height: "+S+"px; width: "+i+"px;'></div>");this.$().append(this._oDummyScrollContainer);}else{this._oDummyScrollContainer.css({"height":S,"width":i});}}else if(this._oDummyScrollContainer){this._oDummyScrollContainer.remove();delete this._oDummyScrollContainer;}this._attachDomRefScrollHandler();this._syncScrollWithDomRef();}this._cloneDomRef(g.domRef);}this.getChildren().forEach(function(h){h.applyStyles();});}else{this.$().css("display","none");}};
b.prototype._attachDomRefScrollHandler=function(){this._detachDomRefScrollHandler();var g=this.getGeometry();var d=g?g.domRef:null;if(d){this._oDomRefWithScrollHandler=d;q(this._oDomRefWithScrollHandler).on("scroll",this._domRefScrollHandler);}};
b.prototype._detachDomRefScrollHandler=function(d){if(this._oDomRefWithScrollHandler){q(this._oDomRefWithScrollHandler).off("scroll",this._domRefScrollHandler);delete this._oDomRefWithScrollHandler;}};
b.prototype._onSyncScrollWithDomRef=function(e){window.clearTimeout(this._iSyncScrollWithDomRef);var t=this;this._iSyncScrollWithDomRef=window.setTimeout(function(){t._syncScrollWithDomRef();delete t._iSyncScrollWithDomRef;},0);};
b.prototype._syncScrollWithDomRef=function(){D.syncScroll(this._oDomRefWithScrollHandler,this.$());};
b.prototype.getGeometry=function(f){if(f||!this._mGeometry){var d=this.getAssociatedDomRef();var g=D.getGeometry(d,this.isRoot());if(!g){var c=[];this.getChildren().forEach(function(e){c.push(e.getGeometry(true));});g=O.getGeometry(c);}this._mGeometry=g;}return this._mGeometry;};
b.prototype._cloneDomRef=function(d){var $=this.$();var c=$.find(">.sapUiDtClonedDom");var v=this.getDesignTimeMetadata().getCloneDomRef();if(v){if(d){var f=function(){if(v!==true){d=D.getDomRefForCSSSelector(d,v);}if(!c.length){c=q("<div class='sapUiDtClonedDom'></div>").prependTo($);}else{c.empty();}D.cloneDOMAndStyles(d,c);};if(!this._bClonedDom){this._bClonedDom=true;f();}else{window.clearTimeout(this._iCloneDomTimeout);this._iCloneDomTimeout=window.setTimeout(f,250);}}}else{c.remove();}};
b.prototype._updateDom=function(){if(this.isRoot()){this._ensureIsInOverlayContainer();this.applyStyles();}else{this._ensureDomOrder();}};
b.prototype._ensureDomOrder=function(){var $=this.$();var p=this.getParent();var c=p.$();var d=c.find(">.sapUiDtOverlayChildren");var i;var P;var e=p.getChildren();var f=e.indexOf(this)-1;while(f>=0){P=e[f].$();if(P.length){break;}f--;}if(P&&P.length){i=$.prev().get(0)===P.get(0);}else{i=d.children().index($)===0;}if(!i){if(P&&P.length){P.after($);}else{d.prepend($);}}};
b.prototype._ensureIsInOverlayContainer=function(){var $=this.$();var c=$.parent();var a=b.getOverlayContainer();var p=c.length?c.get(0):null;if(a!==p){$.appendTo(a);}};
b.prototype._onOverlayScroll=function(){var g=this.getGeometry();var d=g?g.domRef:null;if(d){D.syncScroll(this.$(),d);}};
b.prototype.setInHiddenTree=function(i){if(i!==this.isInHiddenTree()){this.toggleStyleClass("sapUiDtOverlayInHiddenTree",i);this.setProperty("inHiddenTree",i);}return this;};
b.prototype.isInHiddenTree=function(){return this.getInHiddenTree();};
b.prototype.setVisible=function(v){if(this.getVisible()!==v){this.setProperty("visible",v);this._bVisible=v;this.fireVisibleChanged({visible:v});}return this;};
b.prototype.getVisible=function(){if(this._bVisible===null){if(!this.getLazyRendering()){return true;}var d=this.getDesignTimeMetadata();return d?!d.isIgnored():false;}else{return this.getProperty("visible");}};
b.prototype.isVisible=function(){return this.getVisible();};
b.prototype.isRoot=function(){var p=this.getParent();if(p){if(!p.getDomRef){return true;}}};
return b;},true);
sap.ui.predefine('sap/ui/dt/OverlayRegistry',["sap/ui/core/Element","sap/ui/dt/ElementUtil"],function(E,a){"use strict";var O={};var o={};
O.getOverlay=function(e){var b=a.getElementInstance(e);if(b){b=a.fixComponentContainerElement(b);b=a.fixComponentParent(b);if(b){var i=b.getId();return o[i];}}};
O.register=function(e,b){var i=g(e);o[i]=b;};
O.deregister=function(e){var i=g(e);delete o[i];};
O.hasOverlays=function(){return!jQuery.isEmptyObject(o);};
function g(e){return(e instanceof E)?e.getId():e;}
return O;},true);
sap.ui.predefine('sap/ui/dt/Plugin',['sap/ui/base/ManagedObject'],function(M){"use strict";
var P=M.extend("sap.ui.dt.Plugin",{metadata:{"abstract":true,library:"sap.ui.dt",properties:{designTime:{type:"sap.ui.dt.DesignTime",multiple:false}},associations:{},events:{}}});
P.prototype.init=function(){};
P.prototype.exit=function(){this.setDesignTime(null);};
P.prototype.setDesignTime=function(d){var o=this.getDesignTime();if(o){this._deregisterOverlays(o);o.detachEvent("elementOverlayCreated",this._onElementOverlayCreated,this);}this.setProperty("designTime",d);if(d){this._registerOverlays(d);d.attachEvent("elementOverlayCreated",this._onElementOverlayCreated,this);}return this;};
P.prototype._registerOverlays=function(d){if(this.registerElementOverlay||this.registerAggregationOverlay){var e=d.getElementOverlays();e.forEach(this._callElementOverlayRegistrationMethods.bind(this));}};
P.prototype._deregisterOverlays=function(d){if(this.deregisterElementOverlay||this.deregisterAggregationOverlay){var o=d.getElementOverlays();o.forEach(this._callElementOverlayDeregestrationMethods.bind(this));}};
P.prototype._callAggregationOverlayRegistrationMehods=function(e){if(this.registerAggregationOverlay){var a=e.getAggregationOverlays();a.forEach(this.registerAggregationOverlay.bind(this));}};
P.prototype._callElementOverlayRegistrationMethods=function(e){if(this.registerElementOverlay){this.registerElementOverlay(e);}this._callAggregationOverlayRegistrationMehods(e);};
P.prototype._callElementOverlayDeregestrationMethods=function(e){if(this.deregisterElementOverlay){this.deregisterElementOverlay(e);}if(this.deregisterAggregationOverlay){var a=e.getAggregationOverlays();a.forEach(this.deregisterAggregationOverlay.bind(this));}};
P.prototype._onElementOverlayCreated=function(e){var o=e.getParameter("elementOverlay");this._callElementOverlayRegistrationMethods(o);};
return P;},true);
sap.ui.predefine('sap/ui/dt/RenderingUtil',['jquery.sap.global'],function(q){"use strict";var R={};
R.renderOverlay=function(r,o,c){var g=o.getGeometry();var G=g&&g.visible;var b=!o.getLazyRendering()||G;if(o.isVisible()&&b){if(o.getDomRef()){this._triggerOnAfterRenderingWithoutRendering(r,o);return;}r.addClass("sapUiDtOverlay");r.addClass(c);r.write("<div");r.writeControlData(o);var a=o.getAggregationName&&o.getAggregationName();if(a){r.write("data-sap-ui-dt-aggregation='"+o.getAggregationName()+"'");}else{r.write("data-sap-ui-dt-for='"+o.getElementInstance().getId()+"'");}r.writeClasses();r.writeStyles();r.write(">");r.write("<div");r.addClass("sapUiDtOverlayChildren");r.writeClasses();r.write(">");this._renderChildren(r,o);r.write("</div>");r.write("</div>");}};
R._renderChildren=function(r,o){var c=o.getChildren();c.forEach(function(C){r.renderControl(C);});};
R._triggerOnAfterRenderingWithoutRendering=function(r,o){r.write("");this._renderChildren(r,o);};
return R;},true);
sap.ui.predefine('sap/ui/dt/Selection',['sap/ui/base/ManagedObject','./library'],function(M){"use strict";
var S=M.extend("sap.ui.dt.Selection",{metadata:{library:"sap.ui.dt",properties:{"mode":{type:"sap.ui.dt.SelectionMode",defaultValue:sap.ui.dt.SelectionMode.Single}},associations:{},aggregations:{},events:{"change":{parameters:{selection:{type:"sap.ui.dt.Overlay[]"}}}}}});
S.prototype.init=function(){this._aSelection=[];};
S.prototype.exit=function(){delete this._aSelection;};
S.prototype.getSelection=function(){return this._aSelection;};
S.prototype.set=function(o,s){if(s){this.add(o);}else{this.remove(o);}};
S.prototype.add=function(o){this._syncSelectionWithMode();this._aSelection.push(o);this.fireChange({selection:this.getSelection()});};
S.prototype.remove=function(o){this._syncSelectionWithMode();var i=this._aSelection.indexOf(o);if(i!==-1){this._aSelection.splice(i,1);}this.fireChange({selection:this.getSelection()});};
S.prototype._isSingleMode=function(){return this.getMode()===sap.ui.dt.SelectionMode.Single;};
S.prototype._syncSelectionWithMode=function(){if(this._isSingleMode()){this._aSelection.forEach(function(o){o.setSelected(false,true);});this._aSelection=[];}};
return S;},true);
sap.ui.predefine('sap/ui/dt/library',['jquery.sap.global','sap/ui/core/library'],function(q){"use strict";sap.ui.getCore().initLibrary({name:"sap.ui.dt",version:"1.38.4",dependencies:["sap.ui.core"],types:["sap.ui.dt.SelectionMode"],interfaces:[],controls:[],elements:[]});sap.ui.dt.SelectionMode={Multi:"Multi",Single:"Single"};return sap.ui.dt;},true);
sap.ui.predefine('sap/ui/dt/plugin/DragDrop',['sap/ui/dt/Plugin','sap/ui/dt/DOMUtil','sap/ui/dt/OverlayUtil','sap/ui/dt/ElementUtil'],function(P,D,O,E){"use strict";
var a=P.extend("sap.ui.dt.plugin.DragDrop",{metadata:{"abstract":true,library:"sap.ui.dt",properties:{},associations:{},events:{}}});
a.prototype.init=function(){P.prototype.init.apply(this,arguments);this._mElementOverlayDelegate={"onAfterRendering":this._checkMovable};this._mAggregationOverlayDelegate={"onAfterRendering":this._attachDragScrollHandler,"onBeforeRendering":this._removeDragScrollHandler};this._dragScrollHandler=this._dragScroll.bind(this);this._dragLeaveHandler=this._dragLeave.bind(this);this._mScrollIntervals={};};
a.prototype.exit=function(){P.prototype.exit.apply(this,arguments);delete this._mElementOverlayDelegate;delete this._mAggregationOverlayDelegate;delete this._dragScrollHandler;};
a.prototype.registerElementOverlay=function(o){o.addEventDelegate(this._mElementOverlayDelegate,this);o.attachEvent("movableChange",this._onMovableChange,this);if(o.isMovable()){this._attachDragEvents(o);}o.attachBrowserEvent("dragover",this._onDragOver,this);o.attachBrowserEvent("dragenter",this._onDragEnter,this);};
a.prototype.registerAggregationOverlay=function(A){A.attachTargetZoneChange(this._onAggregationTargetZoneChange,this);if(!sap.ui.Device.browser.webkit){this._attachDragScrollHandler(A);A.addEventDelegate(this._mAggregationOverlayDelegate,this);}};
a.prototype.deregisterElementOverlay=function(o){o.removeEventDelegate(this._mElementOverlayDelegate,this);o.detachEvent("movableChange",this._onMovableChange,this);this._detachDragEvents(o);o.detachBrowserEvent("dragover",this._onDragOver,this);o.detachBrowserEvent("dragenter",this._onDragEnter,this);};
a.prototype.deregisterAggregationOverlay=function(A){A.detachTargetZoneChange(this._onAggregationTargetZoneChange,this);if(!sap.ui.Device.browser.webkit){A.removeEventDelegate(this._mAggregationOverlayDelegate,this);this._removeDragScrollHandler(A);this._clearScrollIntervalFor(A.$().attr("id"));}};
a.prototype._attachDragEvents=function(o){o.attachBrowserEvent("dragstart",this._onDragStart,this);o.attachBrowserEvent("drag",this._onDrag,this);o.attachBrowserEvent("dragend",this._onDragEnd,this);};
a.prototype._detachDragEvents=function(o){o.detachBrowserEvent("dragstart",this._onDragStart,this);o.detachBrowserEvent("dragend",this._onDragEnd,this);o.detachBrowserEvent("drag",this._onDrag,this);};
a.prototype.onMovableChange=function(e){};
a.prototype.onDragStart=function(d,e){};
a.prototype.onDragEnd=function(d,e){};
a.prototype.onDrag=function(d,e){};
a.prototype.onDragEnter=function(o,e){};
a.prototype.onDragOver=function(o,e){};
a.prototype.onAggregationDragEnter=function(A,e){};
a.prototype.onAggregationDragOver=function(A,e){};
a.prototype.onAggregationDragLeave=function(A,e){};
a.prototype.onAggregationDrop=function(A,e){};
a.prototype._checkMovable=function(e){var o=e.srcControl;if(o.isMovable()){D.setDraggable(o.$(),true);}};
a.prototype._onMovableChange=function(e){var o=e.getSource();if(o.isMovable()){this._attachDragEvents(o);}else{this._detachDragEvents(o);}this.onMovableChange(o,e);};
a.prototype._onDragStart=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);e.stopPropagation();if(sap.ui.Device.browser.firefox&&e&&e.originalEvent&&e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.setData){e.originalEvent.dataTransfer.setData('text/plain','');}this.showGhost(o,e);this.onDragStart(o,e);};
a.prototype.showGhost=function(o,e){var t=this;if(e&&e.originalEvent&&e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.setDragImage){this._$ghost=this.createGhost(o,e);this._$ghost.appendTo("#overlay-container");setTimeout(function(){t._removeGhost();},0);e.originalEvent.dataTransfer.setDragImage(this._$ghost.get(0),e.originalEvent.pageX-o.$().offset().left,e.originalEvent.pageY-o.$().offset().top);}};
a.prototype._removeGhost=function(){this.removeGhost();delete this._$ghost;};
a.prototype.removeGhost=function(){var $=this.getGhost();if($){$.remove();}};
a.prototype.createGhost=function(o){var g=o.getAssociatedDomRef();var $;if(!g){g=this._getAssociatedDomCopy(o);$=jQuery(g);}else{$=jQuery("<div></div>");D.cloneDOMAndStyles(g,$);}var d=jQuery("<div></div>").addClass("sapUiDtDragGhostWrapper");return d.append($.addClass("sapUiDtDragGhost"));};
a.prototype._getAssociatedDomCopy=function(o){var t=this;var d=jQuery("<div></div>");o.getAggregationOverlays().forEach(function(A){A.getChildren().forEach(function(C){var e=C.getAssociatedDomRef();if(e){D.cloneDOMAndStyles(e,d);}else{D.cloneDOMAndStyles(t._getAssociatedDomCopy(C),d);}});});return d.get(0);};
a.prototype.getGhost=function(){return this._$ghost;};
a.prototype._onDragEnd=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);this._removeGhost();this._clearAllScrollIntervals();this.onDragEnd(o,e);e.stopPropagation();};
a.prototype._onDrag=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);this.onDrag(o,e);e.stopPropagation();};
a.prototype._onDragEnter=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);if(O.isInTargetZoneAggregation(o)){if(!this.onDragEnter(o,e)){e.stopPropagation();}}e.preventDefault();};
a.prototype._onDragOver=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);if(O.isInTargetZoneAggregation(o)){if(!this.onDragOver(o,e)){e.stopPropagation();}}e.preventDefault();};
a.prototype._onAggregationTargetZoneChange=function(e){var A=e.getSource();var t=e.getParameter("targetZone");if(t){this._attachAggregationOverlayEvents(A);}else{this._detachAggregationOverlayEvents(A);}};
a.prototype._attachAggregationOverlayEvents=function(A){A.attachBrowserEvent("dragenter",this._onAggregationDragEnter,this);A.attachBrowserEvent("dragover",this._onAggregationDragOver,this);A.attachBrowserEvent("dragleave",this._onAggregationDragLeave,this);A.attachBrowserEvent("drop",this._onAggregationDrop,this);};
a.prototype._detachAggregationOverlayEvents=function(A){A.detachBrowserEvent("dragenter",this._onAggregationDragEnter,this);A.detachBrowserEvent("dragover",this._onAggregationDragOver,this);A.detachBrowserEvent("dragleave",this._onAggregationDragLeave,this);A.detachBrowserEvent("drop",this._onAggregationDrop,this);};
a.prototype._onAggregationDragEnter=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);this.onAggregationDragEnter(A,e);e.preventDefault();e.stopPropagation();};
a.prototype._onAggregationDragOver=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);this.onAggregationDragOver(A,e);e.preventDefault();e.stopPropagation();};
a.prototype._onAggregationDragLeave=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);this.onAggregationDragLeave(A,e);e.preventDefault();e.stopPropagation();};
a.prototype._onAggregationDrop=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);this.onAggregationDrop(A,e);e.stopPropagation();};
var I=100;var b=20;var c=50;
a.prototype._clearScrollInterval=function(e,d){if(this._mScrollIntervals[e]){window.clearInterval(this._mScrollIntervals[e][d]);delete this._mScrollIntervals[e][d];}};
a.prototype._clearScrollIntervalFor=function(e){var t=this;if(this._mScrollIntervals[e]){Object.keys(this._mScrollIntervals[e]).forEach(function(d){t._clearScrollInterval(e,d);});}};
a.prototype._clearAllScrollIntervals=function(){Object.keys(this._mScrollIntervals).forEach(this._clearScrollIntervalFor.bind(this));};
a.prototype._checkScroll=function($,d,e){var s;var S;var i=1;if(d==="top"||d==="bottom"){s=$.height();S=$.scrollTop.bind($);}else{s=$.width();S=$.scrollLeft.bind($);}if(d==="top"||d==="left"){i=-1;}var f=Math.floor(s/4);var t=I;if(f<I){t=f;}if(e<t){this._mScrollIntervals[$.attr("id")]=this._mScrollIntervals[$.attr("id")]||{};if(!this._mScrollIntervals[$.attr("id")][d]){this._mScrollIntervals[$.attr("id")][d]=window.setInterval(function(){var g=S();S(g+i*b);},c);}}else{this._clearScrollInterval($.attr("id"),d);}};
a.prototype._dragLeave=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);this._clearScrollIntervalFor(A.$().attr("id"));};
a.prototype._dragScroll=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);var $=A.$();var d=e.clientX;var i=e.clientY;var o=$.offset();var h=$.height();var w=$.width();var t=o.top;var l=o.left;var B=t+h;var r=l+w;this._checkScroll($,"bottom",B-i);this._checkScroll($,"top",i-t);this._checkScroll($,"right",r-d);this._checkScroll($,"left",d-l);};
a.prototype._attachDragScrollHandler=function(e){var A;if(E.isInstanceOf(e,"sap.ui.dt.AggregationOverlay")){A=e;}else{A=e.srcControl;}if(D.hasScrollBar(A.$())){A.getDomRef().addEventListener("dragover",this._dragScrollHandler,true);A.getDomRef().addEventListener("dragleave",this._dragLeaveHandler,true);}};
a.prototype._removeDragScrollHandler=function(e){var A;if(E.isInstanceOf(e,"sap.ui.dt.AggregationOverlay")){A=e;}else{A=e.srcControl;}var d=A.getDomRef();if(d){d.removeEventListener("dragover",this._dragScrollHandler,true);}};
return a;},true);
sap.ui.predefine('sap/ui/dt/plugin/MouseSelection',['sap/ui/dt/Plugin'],function(P){"use strict";
var M=P.extend("sap.ui.dt.plugin.MouseSelection",{metadata:{library:"sap.ui.dt",properties:{},associations:{},events:{}}});
M.prototype.init=function(){P.prototype.init.apply(this,arguments);this._mEventDelegate={"onclick":this._onClick};};
M.prototype.registerElementOverlay=function(o){o.setSelectable(true);o.addEventDelegate(this._mEventDelegate,o);};
M.prototype.deregisterElementOverlay=function(o){o.removeEventDelegate(this._mEventDelegate,o);};
M.prototype._onClick=function(e){this.setSelected(!this.getSelected());e.preventDefault();e.stopPropagation();};
return M;},true);
jQuery.sap.registerPreloadedModules({
"name":"sap/ui/dt/library-preload",
"version":"2.0",
"modules":{
	"sap/ui/dt/manifest.json":'{\n  "_version": "1.2.0",\n  "sap.app": {\n    "_version": "1.2.0",\n    "id": "sap.ui.dt",\n    "type": "library",\n    "embeds": [],\n    "applicationVersion": {\n      "version": "1.38.4"\n    },\n    "title": "SAP UI library: sap.ui.dt (by SAP, Author)",\n    "description": "SAP UI library: sap.ui.dt (by SAP, Author)",\n    "resources": "resources.json",\n    "offline": true\n  },\n  "sap.ui": {\n    "_version": "1.1.0",\n    "technology": "UI5",\n    "supportedThemes": [\n      "base",\n      "sap_hcb"\n    ]\n  },\n  "sap.ui5": {\n    "_version": "1.1.0",\n    "dependencies": {\n      "minUI5Version": "1.38",\n      "libs": {\n        "sap.ui.core": {\n          "minVersion": "1.38.4"\n        }\n      }\n    }\n  }\n}'
}});
