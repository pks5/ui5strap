/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','sap/ui/core/Renderer','./ListBaseRenderer','./ColumnListItemRenderer'],function(q,R,L,C){"use strict";var T=R.extend(L);T.renderColumns=function(r,t,a){var i=0,h=0,b=false,c=false,m=t.getMode(),M=L.ModeOrder[m],d="sapMListTbl",e=t.getId("tbl"),f=(a=="Head")?"th":"td",g=(a=="Head")?"columnheader":"gridcell",j="t"+a.toLowerCase(),k=t.getColumns(),l=(a=="Head")&&k.every(function(p){return!p.getHeader()||!p.getHeader().getVisible()||!p.getVisible()||p.isPopin()||p.isHidden();}),n=(a=="Head")&&k.filter(function(p){return p.getVisible()&&!p.isPopin()&&!p.isHidden();}).length==1,o=function(p,s,A){r.write("<");r.write(f);r.writeAttribute("role",g);A&&r.writeAttribute("aria-hidden","true");s&&r.writeAttribute("id",e+s);r.addClass(d+p);r.writeClasses();r.write("></");r.write(f);r.write(">");i++;};r.write("<"+j+">");r.write("<tr");r.writeAttribute("tabindex",-1);r.writeAttribute("role","row");r.writeAttribute("id",t.addNavSection(e+a+"er"));if(l){r.addClass("sapMListTblHeaderNone");}else{r.addClass("sapMListTblRow sapMLIBFocusable sapMListTbl"+a+"er");C.addLegacyOutlineClass.call(C,r);}r.writeClasses();r.write(">");if(M==-1){if(m=="MultiSelect"&&a=="Head"&&!l){r.write("<th role='columnheader' class='"+d+"SelCol'>");r.write("<div class='sapMLIBSelectM'>");r.renderControl(t._getSelectAllCheckbox());r.write("</div></th>");i++;}else{o("SelCol");}}k.forEach(function(p,s){p.setIndex(-1);p.setInitialOrder(s);});t.getColumns(true).forEach(function(p,s){if(!p.getVisible()){return;}if(p.isPopin()){b=true;return;}if(p.isHidden()){h++;}var u=p["get"+a+"er"](),w=n?"":p.getWidth(),v=p.getStyleClass(true),x=p.getCssAlign();r.write("<"+f);v&&r.addClass(q.sap.encodeHTML(v));r.addClass(d+"Cell");r.addClass(d+a+"erCell");r.writeAttribute("id",e+a+i);r.writeAttribute("data-sap-width",p.getWidth());r.writeAttribute("role",g);w&&r.addStyle("width",w);if(x){r.addStyle("text-align",x);}r.writeClasses();r.writeStyles();r.write(">");if(u){p.applyAlignTo(u);r.renderControl(u);}if(a=="Head"&&!c){c=!!p.getFooter();}r.write("</"+f+">");p.setIndex(i++);});o("NavCol",a+"Nav",!t._iItemNeedsColumn);if(M==1){o("SelCol");}r.write("</tr></"+j+">");if(a=="Head"){t._hasPopin=b;t._colCount=i-h;t._hasFooter=c;t._headerHidden=l;}};T.renderContainerAttributes=function(r,c){r.addClass("sapMListTblCnt");};T.renderListStartAttributes=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-labelledby");r.writeAttribute("aria-hidden","true");r.addClass("sapUiInvisibleText");r.writeClasses();r.write(">");r.writeEscaped(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("LIST_VIEW"));r.write("</div>");r.write("<table");r.addClass("sapMListTbl");if(c.getFixedLayout()===false){r.addStyle("table-layout","auto");}if(c._iItemNeedsColumn){r.addClass("sapMListTblHasNav");}};T.getAriaRole=function(c){return"grid";};T.getAriaLabelledBy=function(c){var a=c.getId()+"-labelledby",b=L.getAriaLabelledBy.call(this,c);return b?(a+" "+b):a;};T.renderListHeadAttributes=function(r,c){this.renderColumns(r,c,"Head");r.write("<tbody");r.writeAttribute("id",c.addNavSection(c.getId("tblBody")));r.write(">");};T.renderListEndAttributes=function(r,c){r.write("</tbody>");c._hasFooter&&this.renderColumns(r,c,"Foot");r.write("</table>");};T.renderNoData=function(r,c){r.write("<tr");r.writeAttribute("role","row");r.writeAttribute("tabindex",c.getKeyboardMode()==sap.m.ListKeyboardMode.Navigation?-1:0);r.writeAttribute("id",c.getId("nodata"));r.addClass("sapMLIB sapMListTblRow sapMLIBTypeInactive");C.addFocusableClasses.call(C,r);if(!c._headerHidden||(!c.getHeaderText()&&!c.getHeaderToolbar())){r.addClass("sapMLIBShowSeparator");}r.writeClasses();r.write(">");r.write("<td");r.writeAttribute("role","gridcell");r.writeAttribute("id",c.getId("nodata-text"));r.writeAttribute("colspan",c.getColCount());r.addClass("sapMListTblCell sapMListTblCellNoData");r.writeClasses();r.write(">");r.writeEscaped(c.getNoDataText(true));r.write("</td>");r.write("</tr>");};return T;},true);
